<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Cart</title>
</head>
<body style="font-family: Arial, sans-serif; background:#fff8f0; margin:0; padding:20px;">

    <h2 style="text-align:center; color:#d35400; margin-bottom:20px;">üõí Your Cart</h2>

    <table border="1" cellpadding="10" cellspacing="0" 
           style="width:80%; margin:auto; border-collapse:collapse; background:white; 
                  box-shadow:0 0 8px rgba(0,0,0,0.1); text-align:center;">
        <tr style="background:#ffcc80; color:#000;">
            <th style="padding:12px;">Product</th>
            <th style="padding:12px;">Quantity</th>
            <th style="padding:12px;">Price</th>
            <th style="padding:12px;">Total</th>
            <th style="padding:12px;">Action</th>
        </tr>
        <tr th:each="item : ${cartItems}" style="border-bottom:1px solid #ddd;">
            <td th:text="${item.product.name}" style="padding:10px; font-weight:bold; color:#2c3e50;"></td>
            <td style="padding:10px;">
                <form th:action="@{/cart/update/{id}(id=${item.id})}" method="post" style="display:flex; justify-content:center; align-items:center; gap:5px;">
                    <input type="number" name="quantity" th:value="${item.quantity}" min="1"
                           style="width:60px; padding:5px; text-align:center; border:1px solid #ccc; border-radius:5px;"/>
                    <button type="submit" 
                            style="background:#27ae60; color:white; border:none; padding:6px 12px; 
                                   border-radius:5px; cursor:pointer; font-weight:bold;">
                        Update
                    </button>
                </form>
            </td>
            <td th:text="${item.product.price}" style="color:#16a085; font-weight:bold;"></td>
            <td th:text="${item.totalPrice}" style="font-weight:bold; color:#c0392b;"></td>
            <td>
                <a th:href="@{/cart/remove/{id}(id=${item.id})}" 
                   style="color:#e74c3c; text-decoration:none; font-weight:bold;">‚ùå Remove</a>
            </td>
        </tr>
    </table>

    <h3 style="text-align:center; margin-top:20px; color:#2c3e50;">
        Total Price: <span th:text="${totalPrice}" style="color:#c0392b;"></span>
    </h3>

    <div style="text-align:center; margin-top:20px;">
        <a href="/cart/clear" 
           style="background:#e74c3c; color:white; padding:10px 20px; border-radius:6px; 
                  text-decoration:none; font-weight:bold; margin-right:10px;">
           üóë Clear Cart
        </a>
        <a href="/products" 
           style="background:#2980b9; color:white; padding:10px 20px; border-radius:6px; 
                  text-decoration:none; font-weight:bold;">
           ‚¨Ö Back to Products
        </a>
    </div>

</body>
</html>
